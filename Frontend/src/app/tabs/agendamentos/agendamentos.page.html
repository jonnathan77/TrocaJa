<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title class="ion-text-center">
      Agendamentos 
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="home-content">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Agendamentos</ion-title>
    </ion-toolbar>
  </ion-header>

  <div class="container">
    <!-- Próximos Agendamentos -->
    <ion-card>
      <ion-card-header>
        <ion-card-title>Próximos Agendamentos</ion-card-title>
        <ion-card-subtitle>{{ upcomingAppointments.length }} agendamento(s)</ion-card-subtitle>
      </ion-card-header>
      
      <ion-card-content>
        <ion-list>
          <ion-item *ngFor="let appointment of upcomingAppointments" button (click)="viewAppointmentDetail(appointment.id)">
            <ion-icon [name]="getStatusIcon(appointment.status)" [color]="getStatusColor(appointment.status)" slot="start"></ion-icon>
            <ion-label>
              <h2>{{ appointment.service }}</h2>
              <p>{{ appointment.date }} às {{ appointment.time }}</p>
              <p>{{ appointment.location }}</p>
            </ion-label>
            <ion-badge [color]="getStatusColor(appointment.status)" slot="end">
              {{ getStatusText(appointment.status) }}
            </ion-badge>
          </ion-item>
        </ion-list>

        <div *ngIf="upcomingAppointments.length === 0" class="no-appointments">
          <ion-icon name="calendar-outline" size="large"></ion-icon>
          <p>Nenhum agendamento próximo</p>
        </div>
      </ion-card-content>
    </ion-card>

    <!-- Histórico -->
    <ion-card>
      <ion-card-header>
        <ion-card-title>Histórico de Serviços</ion-card-title>
        <ion-card-subtitle>{{ completedAppointments.length }} serviço(s) realizado(s)</ion-card-subtitle>
      </ion-card-header>
      
      <ion-card-content>
        <ion-list>
          <ion-item *ngFor="let appointment of completedAppointments" button (click)="viewAppointmentDetail(appointment.id)">
            <ion-icon name="checkmark-circle" color="success" slot="start"></ion-icon>
            <ion-label>
              <h2>{{ appointment.service }}</h2>
              <p>{{ appointment.date }} às {{ appointment.time }}</p>
              <p>{{ appointment.location }}</p>
            </ion-label>
            <ion-badge color="success" slot="end">Concluído</ion-badge>
          </ion-item>
        </ion-list>

        <div *ngIf="completedAppointments.length === 0" class="no-appointments">
          <ion-icon name="time-outline" size="large"></ion-icon>
          <p>Nenhum serviço realizado ainda</p>
        </div>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>
